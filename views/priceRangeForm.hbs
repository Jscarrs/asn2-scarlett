<h2>{{title}}</h2>
<p>Search for Airbnb listings within a specific price range.</p>

{{#if error}}
  <div class="error-message">
    <strong>Error:</strong> {{error}}
  </div>
{{/if}}

<div class="search-section">
  <form action="/viewData/price" method="POST" id="priceForm">
    <div class="form-group">
      <label for="minPrice">Minimum Price ($):</label>
      <input 
        type="number" 
        id="minPrice" 
        name="minPrice" 
        min="0" 
        step="1" 
        required 
        placeholder="e.g., 50"
      >
    </div>

    <div class="form-group">
      <label for="maxPrice">Maximum Price ($):</label>
      <input 
        type="number" 
        id="maxPrice" 
        name="maxPrice" 
        min="0" 
        step="1" 
        required 
        placeholder="e.g., 1000"
      >
    </div>

    <button type="submit">Search</button>
    <a href="/" class="back-link">Back to Home</a>
  </form>
</div>

<script>
  // Client-side validation
  document.getElementById('priceForm').addEventListener('submit', function(e) {
    const minPrice = parseFloat(document.getElementById('minPrice').value);
    const maxPrice = parseFloat(document.getElementById('maxPrice').value);
    
    if (isNaN(minPrice) || isNaN(maxPrice)) {
      e.preventDefault();
      alert('Please enter valid numeric values for both prices.');
      return false;
    }
    
    if (minPrice < 0 || maxPrice < 0) {
      e.preventDefault();
      alert('Price values must be positive numbers.');
      return false;
    }
    
    if (minPrice > maxPrice) {
      e.preventDefault();
      alert('Minimum price cannot be greater than maximum price.');
      return false;
    }
  });
</script>